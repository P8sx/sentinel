on:
  push:
  pull_request:
    tags:
      - '*'
      
permissions:
  contents: write
name: Build
jobs:
  build:
    strategy:
      fail-fast: true
      matrix: 
        targets: [esp32s3]
    runs-on: ubuntu-latest
    steps:
    - name: Checkout repo
      uses: actions/checkout@v3
      with:
        submodules: 'recursive'
        fetch-tags: true
        fetch-depth: 0
    - name: Git describe
      id: ghd
      uses: proudust/gh-describe@v1
    - name: Rename artifact
      run: |
        git describe
